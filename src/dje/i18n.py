SUPPORTED_LOCALES = ("tr", "en")

translations = {
    "tr": {
        "errors.guild_only": "Bu komut sadece sunucularda calisir.",
        "errors.user_not_in_voice": "Bir ses kanalinda olmalisin.",
        "errors.connect_failed": "Baglanamadim: {error}",
        "errors.spotify_unsupported": "Desteklenmeyen Spotify linki.",
        "errors.spotify_no_playable": "Spotify'dan calinabilir parca bulunamadi.",
        "errors.spotify_not_configured": "Spotify ayarlari eksik. Lutfen .env dosyasini kontrol edin.",
        "errors.spotify_error": "Spotify hatasi: {error}",
        "errors.unexpected": "Beklenmeyen hata: {error}",
        "errors.playlist_no_tracks": "Listeden parca cikartilamadi.",
        "errors.playlist_load_failed": "Liste yuklenemedi: {error}",
        "errors.track_not_found": "Parca bulunamadi: {error}",
        "errors.duration_limit": "Sure limiti: {minutes} dk (maks {max_minutes} dk).",
        "errors.duration_limit_track": "Sure limiti asildi: {title} ({minutes} dk, maks {max_minutes} dk).",
        "errors.download_failed": "Indirme hatasi: {error}",
        "errors.download_failed_generic": "Indirme hatasi.",
        "errors.nothing_playing": "Su an bir sey calmiyor.",
        "errors.not_connected": "Bagli degilim.",
        "errors.pause_failed": "Duraklatilamadi.",
        "errors.already_paused": "Zaten duraklatildi.",
        "errors.already_playing": "Zaten caliyor.",
        "errors.resume_failed": "Devam ettirilecek bir sey yok.",
        "errors.playback_error": "Parca calinirken hata: {title}: {error}",
        "spotify.processing": "Spotify {type} verisi isleniyor...",
        "spotify.preparing": "{count} parca hazirlaniyor ve kuyruga ekleniyor...",
        "spotify.added_summary": "Spotify {type} eklendi: {name}",
        "spotify.queued_count": "{count} parca kuyruga alindi.",
        "spotify.limit": "(Limit: {limit})",
        "spotify.skipped": "Spotify'da {count} parca atlandi.",
        "spotify.yt_failures": "{count} parca bulunamadi.",
        "playlist.added": "Calma listesi eklendi: {count} parca",
        "playlist.limit": "(limit: {limit})",
        "playlist.skipped": "{count} parca calinamadi veya gizli.",
        "download.downloading": "⬇️ **Indiriliyor:** {title}",
        "queue.added": "➕ **Siraya eklendi:** {title}",
        "queue.inserted_next": "⏭️ **Siradaki olarak eklendi:** {title}",
        "queue.inserted_next_batch": "⏭️ **Siradaki olarak eklendi:** {count} parca",
        "playback.skipped": "Atlandi.",
        "playback.prev_playing": "Onceki parca caliniyor: {title}",
        "playback.no_previous": "Onceki bir parca yok.",
        "playback.paused": "Duraklatildi.",
        "playback.resumed": "Devam ettirildi.",
        "playback.stopped": "Durduruldu.",
        "playback.disconnected_stop": "Ses kanalindan ayrildim. Sira durduruldu.",
        "playback.skip_unavailable": "Atlanıyor (erisilemiyor): {title}",
        "playback.now_playing": "▶️ **Simdi caliyor:** {title} (isteyen: {requested_by})",
        "queue.empty": "Sira bos.",
        "queue.previous": "Onceki:",
        "queue.now_playing": "Simdi {status}: {title} (isteyen: {requested_by})",
        "queue.status_playing": "caliyor",
        "queue.status_paused": "duraklatildi",
        "queue.up_next": "Sirada:",
        "queue.more": "ve {count} parca daha.",
        "queue.none": "Sirada parca yok.",
        "voice.already_connected": "Zaten {channel} kanalindayim.",
        "voice.moved": "{channel} kanalina gecildi.",
        "voice.connected": "{channel} kanalina baglandim.",
        "voice.not_connected": "Bir ses kanalina bagli degilim.",
        "voice.disconnected": "{channel} kanalindan ayrildim.",
        "shortcuts.list_empty": "Kayitli kisayol yok.",
        "shortcuts.list_header": "Kisayollar",
        "shortcuts.list_desc": "Asagidan sec ve oynat.",
        "shortcuts.list_button_hint": "(Buton)",
        "shortcuts.list_item": "{name} -> {url}",
        "shortcuts.list_more": "+{count} tane daha.",
        "shortcuts.invalid_name": "Gecersiz kisayol adi. 2-32 karakter olmali.",
        "shortcuts.duplicate": "Kisayol zaten var. Once silin.",
        "shortcuts.invalid_url": "Desteklenmeyen URL. YouTube veya Spotify linki kullanin.",
        "shortcuts.added": "Kisayol eklendi: {name}",
        "shortcuts.removed": "Kisayol silindi: {name}",
        "shortcuts.not_found": "Kisayol bulunamadi: {name}",
        "shortcuts.play_started": "Kisayol baslatildi: {name}",
        "shortcuts.playnum_missing_list": "Once /shortcuts komutunu calistir.",
        "shortcuts.playnum_out_of_range": "Gecersiz numara. 1 ile {max} arasinda olmali.",
        "settings.locale_set": "Dil ayari guncellendi: {new_locale}.",
        "settings.invalid_locale": "Gecersiz dil. Kullanin: {locales}.",
        "common.on": "acik",
        "common.off": "kapali",
        "settings.autodisc.enabled_on": "Otomatik ayrilma acildi.",
        "settings.autodisc.enabled_off": "Otomatik ayrilma kapatildi.",
        "settings.autodisc.minutes_set": "Otomatik ayrilma suresi {minutes} dakika olarak ayarlandi.",
        "settings.autodisc.minutes_invalid": "Dakika araligi gecersiz. {min}-{max} arasi girin.",
        "settings.autodisc.show": "Otomatik ayrilma: {enabled}\nSure: {minutes} dk\nUyari: {warn_minutes} dk once",
        "autodisc.warn_text": "Uyari: {minutes} dk sonra ayrilacagim.",
        "autodisc.warn_test_started": "Uyari sesi test ediliyor.",
        "autodisc.warn_test_not_idle": "Test icin botun bos (calmiyor) olmasi gerekiyor.",
        "autodisc.disconnected_text": "Uzun sure bos kaldigim icin ayrildim.",
        "info.embed_title": "Dje",
        "info.field_version": "Surum",
        "info.field_locale": "Dil",
        "info.field_shortcuts": "Kisayol sayisi",
        "info.field_repo": "Repo",
        "info.field_support": "Destek",
        "info.field_commands": "Komutlar",
        "info.commands_summary": "/play (/p), /queue (/q), /skip (/sk), /stop (/st), /shortcuts, /language (/lang)",
    },
    "en": {
        "errors.guild_only": "This command can only be used in servers.",
        "errors.user_not_in_voice": "You must be in a voice channel.",
        "errors.connect_failed": "Could not connect: {error}",
        "errors.spotify_unsupported": "Unsupported Spotify link.",
        "errors.spotify_no_playable": "No playable tracks found on Spotify.",
        "errors.spotify_not_configured": "Spotify settings are missing. Check .env.",
        "errors.spotify_error": "Spotify error: {error}",
        "errors.unexpected": "Unexpected error: {error}",
        "errors.playlist_no_tracks": "No tracks could be extracted from the playlist.",
        "errors.playlist_load_failed": "Playlist could not be loaded: {error}",
        "errors.track_not_found": "Track not found: {error}",
        "errors.duration_limit": "Duration limit: {minutes} min (max {max_minutes} min).",
        "errors.duration_limit_track": "Duration limit exceeded: {title} ({minutes} min, max {max_minutes} min).",
        "errors.download_failed": "Download failed: {error}",
        "errors.download_failed_generic": "Download failed.",
        "errors.nothing_playing": "Nothing is playing right now.",
        "errors.not_connected": "Not connected.",
        "errors.pause_failed": "Could not pause.",
        "errors.already_paused": "Already paused.",
        "errors.already_playing": "Already playing.",
        "errors.resume_failed": "Nothing to resume.",
        "errors.playback_error": "Playback error: {title}: {error}",
        "spotify.processing": "Processing Spotify {type}...",
        "spotify.preparing": "Preparing and queueing {count} tracks...",
        "spotify.added_summary": "Added Spotify {type}: {name}",
        "spotify.queued_count": "{count} tracks queued.",
        "spotify.limit": "(Limit: {limit})",
        "spotify.skipped": "Skipped {count} tracks on Spotify.",
        "spotify.yt_failures": "Could not find {count} tracks.",
        "playlist.added": "Playlist added: {count} tracks",
        "playlist.limit": "(limit: {limit})",
        "playlist.skipped": "{count} tracks were unavailable or private.",
        "download.downloading": "⬇️ **Downloading:** {title}",
        "queue.added": "➕ **Queued:** {title}",
        "queue.inserted_next": "⏭️ **Inserted as next:** {title}",
        "queue.inserted_next_batch": "⏭️ **Inserted as next:** {count} tracks",
        "playback.skipped": "Skipped.",
        "playback.prev_playing": "Playing previous track: {title}",
        "playback.no_previous": "No previous track.",
        "playback.paused": "Paused.",
        "playback.resumed": "Resumed.",
        "playback.stopped": "Stopped.",
        "playback.disconnected_stop": "Disconnected from voice. Queue stopped.",
        "playback.skip_unavailable": "Skipping (unavailable): {title}",
        "playback.now_playing": "▶️ **Now playing:** {title} (requested by {requested_by})",
        "queue.empty": "Queue is empty.",
        "queue.previous": "Previous:",
        "queue.now_playing": "Now {status}: {title} (requested by {requested_by})",
        "queue.status_playing": "playing",
        "queue.status_paused": "paused",
        "queue.up_next": "Up next:",
        "queue.more": "and {count} more.",
        "queue.none": "No tracks in queue.",
        "voice.already_connected": "Already connected to {channel}.",
        "voice.moved": "Moved to {channel}.",
        "voice.connected": "Connected to {channel}.",
        "voice.not_connected": "Not connected to a voice channel.",
        "voice.disconnected": "Disconnected from {channel}.",
        "shortcuts.list_empty": "No shortcuts saved.",
        "shortcuts.list_header": "Shortcuts",
        "shortcuts.list_desc": "Select below to play.",
        "shortcuts.list_button_hint": "(Button)",
        "shortcuts.list_item": "{name} -> {url}",
        "shortcuts.list_more": "+{count} more.",
        "shortcuts.invalid_name": "Invalid shortcut name. Use 2-32 characters.",
        "shortcuts.duplicate": "Shortcut already exists. Remove it first.",
        "shortcuts.invalid_url": "Unsupported URL. Use YouTube or Spotify links.",
        "shortcuts.added": "Shortcut added: {name}",
        "shortcuts.removed": "Shortcut removed: {name}",
        "shortcuts.not_found": "Shortcut not found: {name}",
        "shortcuts.play_started": "Shortcut started: {name}",
        "shortcuts.playnum_missing_list": "Run /shortcuts first.",
        "shortcuts.playnum_out_of_range": "Invalid number. Must be between 1 and {max}.",
        "settings.locale_set": "Locale updated: {new_locale}.",
        "settings.invalid_locale": "Invalid locale. Use: {locales}.",
        "common.on": "on",
        "common.off": "off",
        "settings.autodisc.enabled_on": "Auto-disconnect enabled.",
        "settings.autodisc.enabled_off": "Auto-disconnect disabled.",
        "settings.autodisc.minutes_set": "Auto-disconnect set to {minutes} minutes.",
        "settings.autodisc.minutes_invalid": "Invalid minutes. Use {min}-{max}.",
        "settings.autodisc.show": "Auto-disconnect: {enabled}\nTimeout: {minutes} min\nWarning: {warn_minutes} min before",
        "autodisc.warn_text": "Warning: disconnecting in {minutes} minutes.",
        "autodisc.warn_test_started": "Testing warning audio.",
        "autodisc.warn_test_not_idle": "Bot must be idle (not playing) to test.",
        "autodisc.disconnected_text": "Disconnected due to being idle.",
        "info.embed_title": "Dje",
        "info.field_version": "Version",
        "info.field_locale": "Locale",
        "info.field_shortcuts": "Shortcut count",
        "info.field_repo": "Repo",
        "info.field_support": "Support",
        "info.field_commands": "Commands",
        "info.commands_summary": "/play (/p), /queue (/q), /skip (/sk), /stop (/st), /shortcuts, /language (/lang)",
    },
}


def t(key: str, locale: str, **kwargs: object) -> str:
    if locale not in SUPPORTED_LOCALES:
        locale = "tr"
    text = translations.get(locale, {}).get(key)
    if text is None:
        text = translations["tr"].get(key, key)
    return text.format(**kwargs)
